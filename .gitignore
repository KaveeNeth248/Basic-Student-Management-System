#include <iostream>
#include <vector>
#include <string>
#include <iomanip>   // for setw
using namespace std;

// ANSI color codes (Linux/macOS terminals, some Windows terminals)
#define RESET   "\033[0m"
#define RED     "\033[31m"
#define GREEN   "\033[32m"
#define YELLOW  "\033[33m"
#define CYAN    "\033[36m"
#define MAGENTA "\033[35m"
#define BOLD    "\033[1m"

struct Student {
    int id;
    string name;
    int age;
    string grade;
};

vector<Student> students;

void showHeader() {
    cout << MAGENTA << BOLD;
    cout << "=============================================\n";
    cout << "        ðŸŽ“ STUDENT MANAGEMENT SYSTEM ðŸŽ“       \n";
    cout << "=============================================\n";
    cout << RESET;
}

void showMenu() {
    showHeader();
    cout << CYAN << "[1]" << RESET << " âž¤ Add Student\n";
    cout << CYAN << "[2]" << RESET << " âž¤ Display Students\n";
    cout << CYAN << "[3]" << RESET << " âž¤ Search Student\n";
    cout << CYAN << "[4]" << RESET << " âž¤ Update Student\n";
    cout << CYAN << "[5]" << RESET << " âž¤ Delete Student\n";
    cout << CYAN << "[6]" << RESET << " âž¤ Exit\n";
    cout << YELLOW << "Choose an option: " << RESET;
}

void addStudent() {
    Student s;
    cout << YELLOW << "Enter ID: " << RESET;
    cin >> s.id;
    cout << YELLOW << "Enter Name: " << RESET;
    cin.ignore();
    getline(cin, s.name);
    cout << YELLOW << "Enter Age: " << RESET;
    cin >> s.age;
    cout << YELLOW << "Enter Grade: " << RESET;
    cin >> s.grade;
    students.push_back(s);
    cout << GREEN << "âœ… Student added successfully!\n" << RESET;
}

void displayStudents() {
    if (students.empty()) {
        cout << RED << "âŒ No students available.\n" << RESET;
        return;
    }
    cout << CYAN << "\n--- Student List ---\n" << RESET;
    cout << "-------------------------------------------------------------\n";
    cout << setw(6) << "ID" << " | "
         << setw(20) << left << "Name" << " | "
         << setw(5) << "Age" << " | "
         << setw(6) << "Grade" << endl;
    cout << "-------------------------------------------------------------\n";
    for (auto &s : students) {
        cout << setw(6) << s.id << " | "
             << setw(20) << left << s.name << " | "
             << setw(5) << s.age << " | "
             << setw(6) << s.grade << endl;
    }
    cout << "-------------------------------------------------------------\n";
}

void searchStudent() {
    int id;
    cout << YELLOW << "Enter ID to search: " << RESET;
    cin >> id;
    for (auto &s : students) {
        if (s.id == id) {
            cout << GREEN << "âœ… Found: " << RESET 
                 << s.name << " (Age " << s.age << ", Grade " << s.grade << ")\n";
            return;
        }
    }
    cout << RED << "âŒ Student not found.\n" << RESET;
}

void updateStudent() {
    int id;
    cout << YELLOW << "Enter ID to update: " << RESET;
    cin >> id;
    for (auto &s : students) {
        if (s.id == id) {
            cout << YELLOW << "Enter new name: " << RESET;
            cin.ignore();
            getline(cin, s.name);
            cout << YELLOW << "Enter new age: " << RESET;
            cin >> s.age;
            cout << YELLOW << "Enter new grade: " << RESET;
            cin >> s.grade;
            cout << GREEN << "âœ… Student updated successfully!\n" << RESET;
            return;
        }
    }
    cout << RED << "âŒ Student not found.\n" << RESET;
}

void deleteStudent() {
    int id;
    cout << YELLOW << "Enter ID to delete: " << RESET;
    cin >> id;
    for (auto it = students.begin(); it != students.end(); ++it) {
        if (it->id == id) {
            students.erase(it);
            cout << GREEN << "âœ… Student deleted successfully!\n" << RESET;
            return;
        }
    }
    cout << RED << "âŒ Student not found.\n" << RESET;
}

int main() {
    int choice;
    do {
        showMenu();
        cin >> choice;
        cout << endl;
        switch (choice) {
            case 1: addStudent(); break;
            case 2: displayStudents(); break;
            case 3: searchStudent(); break;
            case 4: updateStudent(); break;
            case 5: deleteStudent(); break;
            case 6: cout << MAGENTA << "ðŸ‘‹ Exiting... Goodbye!\n" << RESET; break;
            default: cout << RED << "âŒ Invalid choice!\n" << RESET;
        }
        cout << endl;
    } while (choice != 6);

    return 0;
}

